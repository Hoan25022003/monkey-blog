"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[130],{9646:function(e,n,r){r.d(n,{Z:function(){return p}});var a,t,s=r(1413),o=r(4925),i=r(168),l=(r(2791),r(6031)),c=r(184),d=l.ZP.div(a||(a=(0,i.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border: "," solid #fff;\n  border-top: "," solid transparent;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  border-radius: 50%;\n  animation: spinner linear infinite 0.75s;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.border}),(function(e){return e.border})),u=function(e){var n=e.size,r=e.border;return(0,c.jsx)(d,{size:n,border:r})},m=["children","type","onClick"],h=l.ZP.button(t||(t=(0,i.Z)(["\n  margin-top: 16px;\n  background: ",";\n  width: 250px;\n  cursor: pointer;\n  padding: 18px 0;\n  color: white;\n  border-radius: 8px;\n  font-size: 20px;\n  transition: all ease-in 0.25s;\n  font-weight: 600;\n  &:disabled {\n    opacity: 0.6;\n    pointer-events: none;\n  }\n"])),(function(e){return e.theme.gradientColor})),p=function(e){var n=e.children,r=e.type,a=void 0===r?"button":r,t=e.onClick,i=void 0===t?function(){}:t,l=(0,o.Z)(e,m),d=l.loading;return(0,c.jsx)(h,(0,s.Z)((0,s.Z)({type:a,onClick:i,disabled:d},l),{},{children:d?(0,c.jsx)(u,{size:"30px",border:"4px"}):n}))}},8119:function(e,n,r){var a=r(1413),t=r(4925),s=(r(2791),r(1134)),o=r(184),i=["checked","children","control","name"];n.Z=function(e){var n=e.checked,r=e.children,l=e.control,c=e.name,d=(0,t.Z)(e,i),u=(0,s.bc)({control:l,name:c,defaultValue:""}).field;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",(0,a.Z)((0,a.Z)({onChange:function(){},checked:n,type:"radio",className:"hidden-input"},u),d)),(0,o.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,o.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(n?"bg-green-400":"bg-gray-200")}),(0,o.jsx)("span",{children:r})]})]})}},2033:function(e,n,r){var a,t=r(168),s=(r(2791),r(6031)),o=r(184),i=s.ZP.div(a||(a=(0,t.Z)(["\n  text-align: left;\n  margin-bottom: 16px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"])));n.Z=function(e){var n=e.children;return(0,o.jsx)(i,{className:"form-group",children:n})}},5576:function(e,n,r){r(2791);var a=r(184);n.Z=function(e){var n=e.children;return(0,a.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:n})}},4110:function(e,n,r){var a,t=r(1413),s=r(4925),o=r(168),i=(r(2791),r(6031)),l=r(1134),c=r(184),d=["children","type","name","control","errorMessage"],u=i.ZP.div(a||(a=(0,o.Z)(["\n  position: relative;\n  border-radius: 8px;\n  margin-top: 12px;\n  input {\n    border: 1px solid #ddd;\n    width: 100%;\n    border-radius: inherit;\n    padding: 16px;\n    outline: none;\n    transition: all ease-in 0.2s;\n    background-color: ",";\n    &:focus {\n      border: 1px solid ",";\n    }\n  }\n  input::placeholder {\n    color: #c4c4c4;\n  }\n"])),(function(e){return e.bgInput}),(function(e){return e.theme.secondary}));n.Z=function(e){var n=e.children,r=e.type,a=void 0===r?"text":r,o=e.name,i=e.control,m=(e.errorMessage,(0,s.Z)(e,d)),h=(0,l.bc)({control:i,name:o}).field;return(0,c.jsxs)(u,{children:[(0,c.jsx)("input",(0,t.Z)((0,t.Z)({type:a,id:o},h),m)),n]})}},6639:function(e,n,r){var a,t=r(168),s=(r(2791),r(6031)),o=r(184),i=s.ZP.label(a||(a=(0,t.Z)(["\n  color: #292d32;\n  font-weight: 600;\n  font-size: 16px;\n"])));n.Z=function(e){var n=e.name,r=e.children;return(0,o.jsx)(i,{htmlFor:n,children:r})}},6030:function(e,n,r){var a=r(1413),t=r(4925),s=(r(2791),r(184)),o=["name","className","progress","image","handleDeleteImage","loadingSize"];n.Z=function(e){var n=e.name,r=e.className,i=void 0===r?"":r,l=e.progress,c=void 0===l?0:l,d=e.image,u=void 0===d?"":d,m=e.handleDeleteImage,h=(e.loadingSize,(0,t.Z)(e,o));return(0,s.jsxs)("label",{className:"cursor-pointer flex items-center justify-center bg-gray-100 border border-dashed w-full min-h-[200px] rounded-lg ".concat(i," relative overflow-hidden group"),children:[(0,s.jsx)("input",(0,a.Z)({type:"file",name:n,className:"hidden-input"},h)),!u&&0===c&&(0,s.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,s.jsx)("img",{src:"/add-image.png",alt:"upload-img",className:"max-w-[80px] mb-3"}),(0,s.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),!u&&0!==c&&(0,s.jsx)("div",{className:"border-8 bg-transparent w-14 h-14 rounded-full border-green-500 border-t-transparent animate-spin"}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:u,className:"w-full h-full object-cover",alt:""}),(0,s.jsx)("button",{className:"absolute bg-white opacity-0 w-14 h-14 rounded-full text-green-700 group-hover:opacity-80 transition-all duration-200",onClick:m,type:"button",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mx-auto",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),!u&&(0,s.jsx)("div",{className:"absolute w-10 h-1 bg-green-400 bottom-0 left-0 transition-all image-upload-progress",style:{width:"".concat(Math.ceil(c),"%")}})]})}},1776:function(e,n,r){r.d(n,{Z:function(){return o}});var a=r(9439),t=r(2791),s=r(4453);function o(e,n){var r=(0,t.useState)(""),o=(0,a.Z)(r,2),i=o[0],l=o[1],c=(0,t.useState)(0),d=(0,a.Z)(c,2),u=d[0],m=d[1];return{image:i,setImage:l,progressPercent:u,setProgressPercent:m,handleSelectImage:function(n){var r=n.target.files[0];r&&(e("image_name",r.name),function(e){var n=(0,s.cF)(),r=(0,s.iH)(n,"images/"+e.name),a=(0,s.B0)(r,e);a.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(m(n),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log(e)}),(function(){(0,s.Jt)(a.snapshot.ref).then((function(e){l(e)}))}))}(r))},handleDeleteImage:function(){var e=(0,s.cF)(),r=(0,s.iH)(e,"images/"+n("image_name"));(0,s.oq)(r).then((function(){l(""),m(0)})).catch((function(e){}))}}}},6801:function(e,n,r){r(2791);var a=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,t=e.desc,s=void 0===t?"":t;return(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsx)("h1",{className:"font-bold text-2xl mb-3",children:r}),(0,a.jsx)("p",{className:"text-base",children:s})]})}},9130:function(e,n,r){r.r(n);var a=r(1413),t=r(5861),s=r(7757),o=r.n(s),i=r(2791),l=r(1134),c=r(9646),d=r(8119),u=r(2033),m=r(5576),h=r(4110),p=r(6639),x=r(6030),f=r(3585),g=r(6801),b=r(4695),v=r(1724),Z=r(577),j=r(3578),N=r(3141),w=r(9062),y=r(1776),k=r(184),P=v.Ry({fullName:v.Z_().required("Please enter your full name").min(4,"Full name must be 4 characters or little"),username:v.Z_().required("Please enter your username"),email:v.Z_().required("Please enter your email").email("This email is invalid"),password:v.Z_().required("Please enter your password").min(8,"Your password must be 8 characters or little").matches(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])([a-zA-Z0-9]{8,})$/,"Your password must be at least 1 uppercase, 1 lowercase and 1 number"),status:v.Rx(),role:v.Rx()});n.default=function(){var e=(0,l.cI)({mode:"onSubmit",resolver:(0,b.X)(P),defaultValues:{status:1,role:3}}),n=e.control,r=e.handleSubmit,s=e.watch,v=e.setValue,C=e.getValues,I=e.reset,S=e.formState,A=S.errors,E=S.isSubmitting;i.useEffect((function(){var e=Object.values(A);e.length>0&&Z.Am.error(e[0].message,{pauseOnHover:!1,style:{backgroundColor:f.rS.toastErrorColor}})}),[A]);var _=s("status"),z=s("role"),D=(0,y.Z)(v,C),M=D.image,B=D.setImage,F=D.setProgressPercent,Q=D.progressPercent,R=D.handleSelectImage,U=D.handleDeleteImage,V=function(){var e=(0,t.Z)(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Xb)(N.I,n.email,n.password);case 2:r=(0,w.hJ)(N.db,"users"),(0,w.ET)(r,(0,a.Z)((0,a.Z)({},n),{},{avatar:M||"/avatar-default.webp"})),Z.Am.success("Add user successful!",{pauseOnHover:!1,style:{backgroundColor:f.rS.toastSuccessColor}}),I({status:1,role:3,fullName:"",username:"",email:"",password:"",avatar:""}),F(0),B("");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{children:[(0,k.jsx)(g.Z,{title:"New user",desc:"Add new user to system"}),(0,k.jsxs)("form",{onSubmit:r(V),autoComplete:"off",children:[(0,k.jsx)("div",{className:"text-center mb-10",children:(0,k.jsx)(x.Z,{name:"avatar",image:M,progress:Q,onChange:R,handleDeleteImage:U,className:"w-[200px] h-[200px] !rounded-full min-h-0 mx-auto",loadingSize:"10"})}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(p.Z,{children:"Fullname"}),(0,k.jsx)(h.Z,{name:"fullName",placeholder:"Enter your full name",control:n})]}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(p.Z,{children:"Username"}),(0,k.jsx)(h.Z,{name:"username",placeholder:"Enter your username",control:n})]})]}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(p.Z,{children:"Email"}),(0,k.jsx)(h.Z,{name:"email",placeholder:"Enter your email",control:n,type:"email"})]}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(p.Z,{children:"Password"}),(0,k.jsx)(h.Z,{name:"password",placeholder:"Enter your password",control:n,type:"password"})]})]}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(p.Z,{children:"Status"}),(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(d.Z,{name:"status",control:n,checked:Number(_)===f.iQ.ACTIVE,value:Number(f.iQ.ACTIVE),children:"Active"}),(0,k.jsx)(d.Z,{name:"status",control:n,checked:Number(_)===f.iQ.PENDING,value:Number(f.iQ.PENDING),children:"Pending"}),(0,k.jsx)(d.Z,{name:"status",control:n,checked:Number(_)===f.iQ.BAN,value:Number(f.iQ.BAN),children:"Banned"})]})]}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(p.Z,{children:"Role"}),(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(d.Z,{name:"role",control:n,checked:Number(z)===f.xZ.ADMIN,value:f.xZ.ADMIN,children:"Admin"}),(0,k.jsx)(d.Z,{name:"role",control:n,checked:Number(z)===f.xZ.MOD,value:f.xZ.MOD,children:"Moderator"}),(0,k.jsx)(d.Z,{name:"role",control:n,checked:Number(z)===f.xZ.USER,value:f.xZ.USER,children:"User"})]})]})]}),(0,k.jsx)("div",{className:"text-center",children:(0,k.jsx)(c.Z,{loading:E,className:"mx-auto w-[200px]",type:"submit",children:"Add new user"})})]})]})}}}]);
//# sourceMappingURL=130.f3a055d0.chunk.js.map