{"version":3,"file":"static/js/491.d255f413.chunk.js","mappings":"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","sources":["components/action/ActionDelete.js","components/action/ActionEdit.js","components/action/ActionView.js","components/table/Table.js","hooks/useSnapshot.js","modules/dashboard/DashboardHeading.js","components/pagination/Pagination.js","modules/post/PostManage.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst ActionDelete = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionDelete;\r\n","import React from \"react\";\r\n\r\nconst ActionEdit = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionEdit;\r\n","import React from \"react\";\r\n\r\nconst ActionView = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionView;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst TableStyles = styled.div`\r\n  overflow-x: auto;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  table {\r\n    width: 100%;\r\n  }\r\n  thead {\r\n    background-color: #f7f7f8;\r\n  }\r\n  th,\r\n  td {\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n  }\r\n  th {\r\n    padding: 20px 30px;\r\n    font-weight: 600;\r\n    text-align: left;\r\n  }\r\n  td {\r\n    padding: 15px 30px;\r\n  }\r\n  tbody {\r\n  }\r\n`;\r\n\r\nconst Table = ({ children }) => {\r\n  return (\r\n    <TableStyles>\r\n      <table>{children}</table>\r\n    </TableStyles>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import { collection, onSnapshot, query } from \"firebase/firestore\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { db } from \"../firebases/firebaseConfig\";\r\n\r\nexport default function useSnapshot(tableData, filter, [...condition]) {\r\n  const [dataSnapshot, setDataSnapshot] = useState([]);\r\n  const [dataCount, setDataCount] = useState(0);\r\n  useEffect(() => {\r\n    const colRef = collection(db, tableData);\r\n    const newRef = filter ? query(colRef, ...condition) : colRef;\r\n    onSnapshot(newRef, (snapshot) => {\r\n      setDataCount(snapshot.size);\r\n      let results = [];\r\n      snapshot.forEach((doc) => {\r\n        results.push({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n      setDataSnapshot(results);\r\n    });\r\n  }, [filter]);\r\n  return { dataSnapshot, dataCount };\r\n}\r\n","import React from \"react\";\r\n\r\nconst DashboardHeading = ({ title = \"\", desc = \"\" }) => {\r\n  return (\r\n    <div className=\"mb-10\">\r\n      <h1 className=\"font-bold text-2xl mb-3\">{title}</h1>\r\n      <p className=\"text-base\">{desc}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardHeading;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst PaginationStyles = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 0 10px;\r\n  .pagination {\r\n    &-list {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 0 10px;\r\n    }\r\n    &-prev,\r\n    &-next,\r\n    &-item {\r\n      cursor: pointer;\r\n      width: 40px;\r\n      height: 40px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      font-weight: 500;\r\n      &:hover {\r\n        color: white;\r\n        background-color: ${(props) => props.theme.secondary};\r\n      }\r\n    }\r\n    &-item.is-current {\r\n      color: white;\r\n      background-color: ${(props) => props.theme.secondary};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Pagination = () => {\r\n  return (\r\n    <PaginationStyles>\r\n      <span className=\"pagination-prev\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          className=\"h-6 w-6\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M15 19l-7-7 7-7\"\r\n          />\r\n        </svg>\r\n      </span>\r\n      <ul className=\"pagination-list\">\r\n        <li className=\"pagination-item\">1</li>\r\n        <li className=\"pagination-item is-current\">2</li>\r\n        <li className=\"pagination-item\">...</li>\r\n        <li className=\"pagination-item\">3</li>\r\n        <li className=\"pagination-item\">4</li>\r\n        <li className=\"pagination-item\">5</li>\r\n      </ul>\r\n      <span className=\"pagination-next\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          className=\"h-6 w-6\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n        >\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\r\n        </svg>\r\n      </span>\r\n    </PaginationStyles>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { deleteDoc, doc, getDoc, where } from \"firebase/firestore\";\r\nimport { debounce } from \"lodash\";\r\nimport React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport ActionDelete from \"../../components/action/ActionDelete\";\r\nimport ActionEdit from \"../../components/action/ActionEdit\";\r\nimport ActionView from \"../../components/action/ActionView\";\r\nimport Pagination from \"../../components/pagination/Pagination\";\r\nimport Table from \"../../components/table/Table\";\r\nimport { db } from \"../../firebases/firebaseConfig\";\r\nimport useSnapshot from \"../../hooks/useSnapshot\";\r\nimport { theme } from \"../../utils/constants\";\r\nimport DashboardHeading from \"../dashboard/DashboardHeading\";\r\n\r\nconst PostManage = () => {\r\n  const [filter, setFilter] = React.useState(\"\");\r\n  const { dataSnapshot: listPost } = useSnapshot(\"posts\", filter, [\r\n    where(\"title\", \">=\", filter),\r\n    where(\"title\", \"<=\", filter + \"utf8\"),\r\n  ]);\r\n  const navigate = useNavigate();\r\n  const handleDeletePost = async (postID) => {\r\n    const docRef = doc(db, \"posts\", postID);\r\n    const result = await Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: theme.primary,\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    });\r\n    if (result.isConfirmed) {\r\n      Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\r\n      await deleteDoc(docRef);\r\n    }\r\n  };\r\n  const handleSearchPost = debounce((e) => setFilter(e.target.value), 500);\r\n  return (\r\n    <div>\r\n      <DashboardHeading\r\n        title=\"Posts\"\r\n        desc=\"Manage your post\"\r\n      ></DashboardHeading>\r\n      <div className=\"mb-5 flex justify-end\">\r\n        <div className=\"w-full max-w-[300px]\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full p-4 rounded-lg border border-solid border-gray-300\"\r\n            placeholder=\"Search post...\"\r\n            onChange={handleSearchPost}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>Id</th>\r\n            <th>Post</th>\r\n            <th>Category</th>\r\n            <th>Author</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {listPost.length > 0 &&\r\n            listPost.map((post) => (\r\n              <tr key={post.id}>\r\n                <td>{post.id.slice(0, 5) + \"...\"}</td>\r\n                <td>\r\n                  <div className=\"flex items-center gap-x-3\">\r\n                    <img\r\n                      src={post.image}\r\n                      alt=\"\"\r\n                      className=\"w-[66px] h-[55px] rounded object-cover\"\r\n                    />\r\n                    <div className=\"flex-1\" title={post.title}>\r\n                      <h3 className=\"font-semibold\">\r\n                        {post.title.slice(0, 40) + \"...\"}\r\n                      </h3>\r\n                      <PostTimer seconds={post.createAt.seconds}></PostTimer>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <CategoryName categoryID={post.categoryID}></CategoryName>\r\n                </td>\r\n                <td>\r\n                  <PostAuthor userID={post.userID}></PostAuthor>\r\n                </td>\r\n                <td>\r\n                  <div className=\"flex gap-x-5 text-gray-400\">\r\n                    <ActionView\r\n                      onClick={() => navigate(\"/\" + post.slug)}\r\n                    ></ActionView>\r\n                    <ActionEdit\r\n                      onClick={() =>\r\n                        navigate(\"/manage/update-post?id=\" + post.id)\r\n                      }\r\n                    ></ActionEdit>\r\n                    <ActionDelete\r\n                      onClick={() => handleDeletePost(post.id)}\r\n                    ></ActionDelete>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n      <div className=\"mt-10\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CategoryName = ({ categoryID }) => {\r\n  const [category, setCategory] = React.useState({});\r\n  React.useEffect(() => {\r\n    async function getCategory() {\r\n      const colRef = doc(db, \"category\", categoryID);\r\n      const docSnap = await getDoc(colRef);\r\n      setCategory(docSnap.data());\r\n    }\r\n    getCategory();\r\n  }, [categoryID]);\r\n  return <span className=\"text-gray-500\">{category.name}</span>;\r\n};\r\n\r\nconst PostAuthor = ({ userID }) => {\r\n  const [username, setUsername] = React.useState({});\r\n  React.useEffect(() => {\r\n    async function getUsername() {\r\n      const colRef = doc(db, \"users\", userID);\r\n      const docSnap = await getDoc(colRef);\r\n      setUsername(docSnap.data());\r\n    }\r\n    getUsername();\r\n  }, [userID]);\r\n  return <span>{username.fullName}</span>;\r\n};\r\n\r\nconst PostTimer = ({ seconds }) => {\r\n  const date = new Date(seconds * 1000);\r\n  const formDate = date.toLocaleDateString(\"vi-VI\");\r\n  return <time className=\"text-sm text-gray-500\">{formDate}</time>;\r\n};\r\n\r\nexport default PostManage;\r\n"],"names":["onClick","className","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","TableStyles","styled","children","useSnapshot","tableData","filter","condition","useState","dataSnapshot","setDataSnapshot","dataCount","setDataCount","useEffect","colRef","collection","db","newRef","query","onSnapshot","snapshot","size","results","forEach","doc","push","id","data","title","desc","props","theme","secondary","CategoryName","categoryID","React","category","setCategory","getDoc","docSnap","getCategory","name","PostAuthor","userID","username","setUsername","getUsername","fullName","PostTimer","seconds","formDate","Date","toLocaleDateString","setFilter","listPost","where","navigate","useNavigate","handleDeletePost","postID","docRef","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","deleteDoc","handleSearchPost","debounce","e","target","value","DashboardHeading","type","placeholder","onChange","Table","length","map","post","slice","src","image","alt","createAt","ActionView","slug","ActionEdit","ActionDelete"],"sourceRoot":""}